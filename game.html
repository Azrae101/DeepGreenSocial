<!-- I'll generate a cleaned-up, working version with drag & drop, Danish sorting colors, and placeholders. -->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Trash Sorting Game - DK Version</title>
<style>
    body {
        margin: 0;
        padding: 0;
        background: #eef2f3;
        font-family: Arial, sans-serif;
    }

    h1 {
        text-align: center;
        padding: 20px;
        color: #2e7d32;
    }

    .game-container {
        width: 90%;
        max-width: 900px;
        margin: auto;
        background: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    #gameArea {
        position: relative;
        height: 500px;
        background: #dff5e1;
        border: 3px solid #2e7d32;
        border-radius: 10px;
        overflow: hidden;
    }

    /* Placeholder item styling */
    .falling-item {
        width: 70px;
        height: 70px;
        position: absolute;
        border-radius: 10px;
        color: white;
        font-size: 14px;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: grab;
    }

    .bins {
        position: absolute;
        bottom: 0;
        width: 100%;
        display: flex;
        justify-content: space-around;
        padding: 10px 0;
    }

    .bin {
        width: 140px;
        height: 150px;
        border-radius: 10px 10px 0 0;
        text-align: center;
        font-weight: bold;
        color: white;
        display: flex;
        justify-content: center;
        align-items: flex-end;
        padding-bottom: 10px;
        font-size: 14px;
    }

    /* Danish waste sorting colors */
    .bin-recycle { background: #0072bc; }     /* Blue – papir/pap */
    .bin-food { background: #7a5901; }        /* Brown – madaffald */
    .bin-rest { background: #1b1b1b; }        /* Black – restaffald */

    #stats {
        display: flex;
        justify-content: space-between;
        margin-bottom: 10px;
        font-size: 18px;
    }

    #startBtn {
        margin-top: 10px;
        padding: 10px 20px;
        background: #ff9800;
        border: none;
        color: white;
        font-size: 16px;
        cursor: pointer;
        border-radius: 6px;
    }
</style>
</head>
<body>
<h1>Dansk Affaldssortering – Spil</h1>

<div class="game-container">
    <div id="stats">
        <div>Score: <span id="score">0</span></div>
        <div>Lives: <span id="lives">3</span></div>
    </div>

    <button id="startBtn">Start Game</button>

    <div id="gameArea">
        <div class="bins">
            <div class="bin bin-recycle" data-type="recycling">Genbrug</div>
            <div class="bin bin-food" data-type="compost">Madaffald</div>
            <div class="bin bin-rest" data-type="trash">Rest</div>
        </div>
    </div>
</div>

<script>
let active = false;
let score = 0;
let lives = 3;
let spawnInterval;
let speed = 1500;
const minSpeed = 450;
let level = 1;

const scoreEl = document.getElementById("score");
const livesEl = document.getElementById("lives");
const startBtn = document.getElementById("startBtn");
const gameArea = document.getElementById("gameArea");
let dragged = null;

// Sounds
const sCorrect = new Audio("https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg");
const sWrong = new Audio("https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg");
const sLose = new Audio("https://actions.google.com/sounds/v1/alarms/beep_short.ogg");

// Danish sorting list
const itemsDK = [
    { name: "Pap", bin: "recycling", color: "#0072bc" },
    { name: "Plast", bin: "recycling", color: "#0072bc" },
    { name: "Mad", bin: "compost", color: "#7a5901" },
    { name: "Æbleskrog", bin: "compost", color: "#7a5901" },
    { name: "Rest", bin: "trash", color: "#1b1b1b" },
    { name: "Chips pose", bin: "trash", color: "#1b1b1b" }
];

startBtn.onclick = startGame;

document.querySelectorAll('.bin').forEach(bin => {
    bin.addEventListener('dragover', e => e.preventDefault());
    
    // touch drop
    bin.addEventListener('touchmove', e => e.preventDefault());

    // visual hover effect
    bin.addEventListener('dragenter', () => bin.style.transform = "scale(1.1)");
    bin.addEventListener('dragleave', () => bin.style.transform = "scale(1)");

    bin.addEventListener('drop', e => {
        bin.style.transform = "scale(1)";
        if (!active || !dragged) return;
        handleDrop(bin);
    });

    // touch drop
    bin.addEventListener('touchend', () => {
        if (!active || !dragged) return;
        handleDrop(bin);
    });
});

function handleDrop(bin) {
    if (!dragged) return;
    const draggedBin = dragged.dataset.bin;
    const correct = bin.dataset.type;

    if (draggedBin === correct) {
        score += 10;
        scoreEl.textContent = score;
        sCorrect.play();

        // level up every 50 pts
        const newLevel = Math.floor(score / 50) + 1;
        if (newLevel > level) {
            level = newLevel;
            speed = Math.max(minSpeed, speed - 150);
            restartSpawn();
        }

    } else {
        loseLife();
        sWrong.play();
    }

    dragged.classList.add('sorted');
    setTimeout(() => dragged.remove(), 150);
    dragged = null;
}

function startGame() {
    if (active) return;

    active = true;
    score = 0;
    lives = 3;
    level = 1;
    speed = 1500;

    scoreEl.textContent = score;
    livesEl.textContent = lives;

    document.querySelectorAll('.falling-item').forEach(i => i.remove());

    restartSpawn();
}

function restartSpawn() {
    clearInterval(spawnInterval);
    spawnInterval = setInterval(spawnItem, speed);
}

function spawnItem() {
    const itemData = itemsDK[Math.floor(Math.random() * itemsDK.length)];
    const item = document.createElement('div');
    item.classList.add('falling-item');
    item.style.left = Math.random() * (gameArea.offsetWidth - 70) + "px";
    item.style.top = "0px";
    item.style.background = itemData.color;
    item.textContent = itemData.name;
    item.dataset.bin = itemData.bin;
    item.id = "item" + Math.random();

    item.draggable = true;

    item.addEventListener('dragstart', e => {
        dragged = item;
        e.dataTransfer.setData("text/plain", "x");
    });

    // touch support
    item.addEventListener('touchstart', () => dragged = item);

    gameArea.appendChild(item);

    let fall = setInterval(() => {
        if (!active) { clearInterval(fall); return; }
        let currentTop = parseInt(item.style.top);
        item.style.top = currentTop + (4 + level) + "px";

        if (currentTop > gameArea.offsetHeight - 160) {
            clearInterval(fall);
            item.remove();
            loseLife();
        }
    }, 40);
}

function loseLife() {
    lives--;
    livesEl.textContent = lives;
    sLose.play();

    if (lives <= 0) endGame();
}

function endGame() {
    active = false;
    clearInterval(spawnInterval);
    alert("Game Over! Score: " + score);
}
</script>
</body>
</html>
